{% extends 'base.html' %}
{% block title %}user search{% endblock %}
{% block content %}
<div>
  <form method='GET'>
    <div>
      <label for='name'>begin of name</label>
      <input id='name' name='name'>
    </div>
    <input type='hidden' name='page' value='1'>
    <div>
      <label for='per_page'>per page</label>
      <input id='per_page' name='per_page'>
    </div>
    <input type='submit' value='search'>
  </form>
</div>
<div>
  <table>
    <thead>
      <th>
	<td>name</td>
	<td>is_activate</td>
	<td>address</td>
	<td>roles</td>
	<td>operation</td>
      </th>
    </thead>
    <tbody>
      {% for item in pagination.items %}
      <tr>
	<td>{{ item.name }}</td>
	<td>{{ item.active }}</td>
	<td>{{ item.address.name }}</td>
	<td>{{ reduce(lambda x, y: '{},{}'.format(x, y), item.roles }}</td>
	<td>
	  <a href=''>add</a>
	  <a href=''>delete</a>
	  <a href=''>add role</a>
	  <a href=''>remove role</a>
	  <a href=''>activate</a>
	  <a href=''>deactivate</a>
	</td>
      </tr>
      {% endfor %}
    </tbody>
    <tbody>
    </tbody>
  </table>
</div>
{% from 'widgets.html' import render_pagination as paginate %}
{% if paginagion.has_next %}
{{ paginate(pagination) }}
{% endif %}
{% endblock %}
